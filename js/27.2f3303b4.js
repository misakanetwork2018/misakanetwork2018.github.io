(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[27],{ea90:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-btn",{staticClass:"q-mt-sm full-width",attrs:{color:"primary"},on:{click:t.createTradeOnly}},[t._v("创建支付")]),a("q-btn",{staticClass:"q-mt-sm full-width",attrs:{color:"primary"},on:{click:t.ajaxTest}},[t._v("模拟付款(Ajax)")])],1)},n=[],s=(a("c5f6"),{props:{invoice:{type:Number,required:!1},amount:{type:Number,required:!1}},methods:{createTradeOnly:function(){var t=this;this.createTrade().then((function(e){e.data.success&&t.$q.dialog({title:"创建成功",message:"请到后台手动入账"})}))},ajaxTest:function(){var t=this;this.createTrade().then((function(e){e.data.success?e.data.finished?(t.$q.dialog({title:"支付完成",message:"模拟支付已完成(notify)"}),t.$emit("finish")):t.$axios.get("/pay/notify/test?trade_no="+e.data.trade_no).then((function(e){"ok"===e.data&&(t.$q.dialog({title:"支付完成",message:"模拟支付已完成(notify)"}),t.$emit("finish"))})):t.$q.dialog({title:"支付失败",message:e.data.msg})}))},createTrade:function(){return this.$axios.post("/pay/create",{invoice_id:this.invoice,amount:this.amount,gateway:"test"})}},components:{}}),o=s,c=a("2877"),r=a("eebe"),d=a.n(r),l=a("9c40"),u=Object(c["a"])(o,i,n,!1,null,"8f94f7ac",null);e["default"]=u.exports;d()(u,"components",{QBtn:l["a"]})}}]);