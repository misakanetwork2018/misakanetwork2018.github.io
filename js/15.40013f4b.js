(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{"0e36":function(e,a,t){},"6a69":function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[!e.loading&&e.success?t("div",{staticClass:"text-center"},[t("vue-qr",{attrs:{text:e.extra.link,size:200}}),t("p",{staticClass:"link"},[t("a",{attrs:{href:e.extra.link}},[e._v("点击跳转链接或右键复制链接")])]),t("p",[e._v("转发节点："),t("span",{domProps:{innerHTML:e._s(e.extra.node)}})]),e.extra.price?t("p",[e._v("流量价格："+e._s(e.extra.price))]):e._e(),e.extra.rate?t("p",[e._v("\n      流量费率："+e._s(e.extra.rate)+"\n      "),t("br"),e._v("\n      [所有IPLC节点都是1GB/元，实际扣除流量 = 流量费率 * 真实使用流量]\n    ")]):e._e(),e._l(e.nodeInfo,(function(a,n,s){return t("p",{key:s},[e._v(e._s(n)+"："+e._s(a))])})),t("p",[t("q-btn",{attrs:{color:"primary"},on:{click:function(a){e.loadBases(),e.showChangeProxy=!0}}},[e._v("更改转发目标")])],1)],2):e._e(),e.loading||e.success?e._e():t("div",[e._v("\n    "+e._s(e.msg)+"\n  ")]),e.loading?t("div",[e._v("\n    加载中...\n  ")]):e._e(),t("q-dialog",{model:{value:e.showChangeProxy,callback:function(a){e.showChangeProxy=a},expression:"showChangeProxy"}},[t("q-card",{staticStyle:{width:"400px","max-width":"80vw"}},[t("q-card-section",[t("div",{staticClass:"text-h6"},[e._v("更改转发目标")])]),t("q-card-section",{staticClass:"q-pt-none"},[t("q-select",{attrs:{options:e.bases,label:"底包","emit-value":"","map-options":""},model:{value:e.newBaseId,callback:function(a){e.newBaseId=a},expression:"newBaseId"}}),t("q-select",{attrs:{options:e.nodes,label:"线路","emit-value":"","map-options":""},model:{value:e.newNodeId,callback:function(a){e.newNodeId=a},expression:"newNodeId"}})],1),t("q-card-actions",{attrs:{align:"right"}},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"取消",color:"primary"}}),t("q-btn",{attrs:{flat:"",label:"确定",color:"primary"},on:{click:e.changeProxy}})],1)],1)],1)],1)},s=[],o=(t("551c"),t("06db"),t("097d"),t("658f")),i=t.n(o),r={props:{info:{type:Object,required:!0},product:{type:Object,required:!0}},data:function(){return{loading:!1,success:!1,nodeInfo:{},extra:{},msg:"",showChangeProxy:!1,bases:[],nodes:[],newBaseId:null,newNodeId:null}},created:function(){this.refresh()},methods:{refresh:function(){var e=this;this.loading=!0,this.$axios.get("/service/pluginGet",{params:{id:this.info.id,key:"detail"}}).then((function(a){var t=a.data.success;e.success=t,t?(e.nodeInfo=a.data.info,e.extra=a.data.extra):e.msg=a.data.msg})).finally((function(){e.loading=!1}))},changeProxy:function(){var e=this;this.$axios.post("/service/pluginSave",{id:this.info.id,data:{action:"changeProxy",base:this.newBaseId,node:this.newNodeId}}).then((function(a){"ok"===a.data?(e.$q.notify("修改完成，请稍后刷新"),e.showChangeProxy=!1):e.$q.notify("修改失败："+a.data)}))},loadBases:function(){var e=this;this.$axios.get("/service/pluginGet",{params:{id:this.info.id,key:"manage"}}).then((function(a){e.bases=a.data}))},loadNodes:function(){var e=this;this.$axios.get("/service/pluginGet",{params:{id:this.info.id,base:this.newBaseId,key:"nodes"}}).then((function(a){e.nodes=a.data}))}},computed:{},components:{vueQr:i.a},watch:{newBaseId:function(){this.loadNodes()}}},c=r,d=(t("b0e4"),t("2877")),l=t("eebe"),u=t.n(l),p=t("9c40"),h=t("24e8"),f=t("f09f"),v=t("a370"),x=t("ddd8"),g=t("4b7e"),w=t("7f67"),m=Object(d["a"])(c,n,s,!1,null,"00dea422",null);a["default"]=m.exports;u()(m,"components",{QBtn:p["a"],QDialog:h["a"],QCard:f["a"],QCardSection:v["a"],QSelect:x["a"],QCardActions:g["a"]}),u()(m,"directives",{ClosePopup:w["a"]})},b0e4:function(e,a,t){"use strict";var n=t("0e36"),s=t.n(n);s.a}}]);