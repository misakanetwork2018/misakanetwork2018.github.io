(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[41],{1655:function(t,s,n){"use strict";n.r(s);var a=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("q-page",{staticClass:"flex flex-center"},[n("div",{staticClass:"auth-form"},[n("h4",{staticClass:"text-center"},[t._v("重置密码")]),n("q-form",{staticClass:"q-gutter-md",on:{submit:t.onSubmit}},[n("q-input",{ref:"email",attrs:{filled:"",label:"邮箱",disable:"",rules:[]},model:{value:t.email,callback:function(s){t.email=s},expression:"email"}}),n("q-input",{attrs:{filled:"",type:"password",label:"新密码","lazy-rules":"",rules:[function(t){return t&&t.length>=6&&t.length<=30||"请输入6-30位密码"}]},on:{input:function(s){!t.password_confirm||t.$refs.confirm.validate()}},model:{value:t.password,callback:function(s){t.password=s},expression:"password"}}),n("q-input",{ref:"confirm",attrs:{filled:"",type:"password",label:"确认密码","lazy-rules":"",rules:[function(t){return t&&t.length>0||"请输入确认密码"},function(s){return t.passwordConfirm||"密码与确认密码不相符"}]},model:{value:t.password_confirm,callback:function(s){t.password_confirm=s},expression:"password_confirm"}}),n("div",[n("q-btn",{attrs:{label:"重置密码",type:"submit",color:"primary",loading:t.doing,disable:t.doing}}),n("q-btn",{staticClass:"q-ml-sm",attrs:{label:"返回登录",color:"primary",flat:"",to:"/login"}})],1)],1)],1)])},e=[],o=(n("551c"),n("06db"),n("097d"),{data:function(){return{email:"",password:"",password_confirm:"",doing:!1}},created:function(){var t=this;this.$axios.get("/user/auth/password/reset/check?token="+this.$route.params.code).then((function(s){t.email=s.data.email})).catch((function(){t.$q.notify("代码无效"),t.$router.push("/login")}))},methods:{onSubmit:function(){var t=this;this.doing=!0,this.$axios.post("/user/auth/password/reset",{password:this.password,token:this.$route.params.code}).then((function(){t.$q.notify("已经重置成功，请登录"),t.$router.push("/login")})).catch((function(){t.$q.notify("貌似出了一点问题，请稍后再试")})).finally((function(){t.doing=!1}))}},computed:{passwordConfirm:function(){return this.password===this.password_confirm}}}),i=o,r=n("2877"),l=n("eebe"),c=n.n(l),u=n("9989"),d=n("0378"),f=n("27f9"),p=n("9c40"),m=Object(r["a"])(i,a,e,!1,null,null,null);s["default"]=m.exports;c()(m,"components",{QPage:u["a"],QForm:d["a"],QInput:f["a"],QBtn:p["a"]})}}]);