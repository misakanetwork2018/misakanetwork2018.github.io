(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[42],{"8f8e4":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-page",{staticClass:"flex flex-center"},[e("div",{staticClass:"auth-form"},[e("h4",{staticClass:"text-center"},[t._v("重置密码")]),e("q-form",{staticClass:"q-gutter-md",on:{submit:t.onSubmit}},[e("q-input",{ref:"email",attrs:{filled:"",label:"邮箱","lazy-rules":"",rules:[function(t){return t&&t.length>0||"请输入邮箱"},function(){return t.isEmail||"必须符合邮箱格式"}]},model:{value:t.email,callback:function(a){t.email=a},expression:"email"}}),e("vue-recaptcha",{attrs:{sitekey:t.v2_key,loadRecaptchaScript:!0,recaptchaHost:"www.recaptcha.net"},on:{verify:t.onCaptchaVerify}}),e("div",[e("q-btn",{attrs:{label:"请求重置密码",type:"submit",color:"primary",loading:t.doing,disable:t.doing}}),e("q-btn",{staticClass:"q-ml-sm",attrs:{label:"返回登录",color:"primary",flat:"",to:"/login"}})],1)],1)],1)])},i=[],s=(e("3b2b"),e("551c"),e("06db"),e("097d"),e("e096")),o={data:function(){return{email:"",recaptchaToken:null,doing:!1}},methods:{onCaptchaVerify:function(t){this.recaptchaToken=t},onSubmit:function(){var t=this;if(!this.recaptchaToken)return this.$q.notify("请先完成人机验证(reCAPTCHA)");this.doing=!0,this.$axios.post("/user/auth/password/reset/request",{email:this.email,recaptcha:this.recaptchaToken}).then((function(a){a.data.success?t.$q.dialog({title:"请求已收到",message:"系统已经给您发送一封重置密码确认邮件，请点击里面的链接前往密码重置界面"}):t.$q.notify({position:"top",message:a.data.msg})})).finally((function(){t.doing=!1}))}},components:{VueRecaptcha:s["a"]},computed:{v2_key:function(){return window.appConfig.recaptcha},isEmail:function(){var t=new RegExp("^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$");return t.test(this.email)}}},c=o,r=e("2877"),l=e("eebe"),u=e.n(l),p=e("9989"),f=e("0378"),m=e("27f9"),h=e("9c40"),d=Object(r["a"])(c,n,i,!1,null,null,null);a["default"]=d.exports;u()(d,"components",{QPage:p["a"],QForm:f["a"],QInput:m["a"],QBtn:h["a"]})}}]);